<div class="toolbar" layout="row" layout-align="start center">
	<md-button class="md-icon-button sidenav-toggle" ng-click="vm.toggleSidenav('settingsidenav')" hide-gt-md aria-label="Toggle left sidenav">
		<md-icon md-font-icon="icon-menu" class="icon"></md-icon>
	</md-button>
	<h1>Users Settings</h1>
</div>
<div id="setting" class="contentsection">
	<md-content class="md-content" style="overflow-x: hidden;">
		<md-list style="padding:0px 0px 0px 0px;" class="md-default-theme">
			<div layout="row" layout-align="start center" style="background-color:#f6f6f6; height:45px;width:100%;">
				<div style="margin-left:18px; font-weight: 500;" >
					Users
				</div>
			</div>
            <div layout="column" layout-align="center center" ng-if="!vm.Settings12thdoor.users.user">
                <md-progress-circular class="md-accent" md-mode="indeterminate" md-diameter="64"></md-progress-circular>
                <div>Loading Users...</div>
            </div>
			<div layout-gt-sm="column" style="padding: 0px 0px 10px;">
				<div as-sortable="sortableOptions" ng-model="asdc" flex="100">
					<div ng-repeat="item in vm.Settings12thdoor.users.user" as-sortable-item flex> 
						<md-card class="add-mdcard" as-sortable-item-handle flex>
							<md-card-content style="margin: -13px;">
								<div layout="row">
									<div flex>
										<span style="color:#808080;font-size:13px;margin-left:10px;">{{item.inviteUserEmail}}
											<md-tooltip md-direction="right">User Email</md-tooltip>
										</span>
									</div>
									<div flex>
										<span style="color:#808080;font-size:13px;">{{item.firstName}} {{item.lastName}}
											<md-tooltip md-direction="right">User Name</md-tooltip>
										</span>
									</div>
									<div flex>
										<span style="color:#808080;font-size:13px;">{{item.role[0].roleName}}
											<md-tooltip md-direction="right">Role Name</md-tooltip>
										</span>
									</div>
                                    <div flex>
										<span style="color:#808080;font-size:13px;">{{item.status}}
											<md-tooltip md-direction="right">Role Name</md-tooltip>
										</span>
									</div>
									<div flex>
										<md-menu md-position-mode="target-right target" layout="row" layout-align="end end" flex-sm="100" style="margin:-11px 0px -32px;">
											<md-button href aria-label="Open demo menu" class="md-icon-button" ng-click="$mdOpenMenu()">
												<md-icon md-font-icon="icon-dots-vertical"></md-icon>
											</md-button>
											<md-menu-content width="4">
												<md-menu-item>
													<md-button ng-click="vm.inviteUsersEdit(item , $event)">
														<p>Edit</p>
														<md-icon md-menu-align-target></md-icon>
													</md-button>
												</md-menu-item>
												<md-menu-item>
													<md-button ng-click="vm.deleteUserRow(item , $index)">
														<p>Delete</p>
														<md-icon md-menu-align-target ></md-icon>
													</md-button>
												</md-menu-item>
											</md-menu-content>
										</md-menu>
									</div>
								</div>
							</md-card-content>
						</md-card>
					</div> 
                    
                    <div ng-repeat="item in vm.pendingInvi" as-sortable-item flex> 
						<md-card class="add-mdcard" style="background-color:#e6fff9;" as-sortable-item-handle flex>
							<md-card-content style="margin: -13px;">
								<div layout="row">
									<div flex>
										<span style="color:#808080;font-size:13px;margin-left:10px;">{{item.Email}}
											<md-tooltip md-direction="right">User Email</md-tooltip>
										</span>
									</div>
									<div flex>
<!--
										<span style="color:#808080;font-size:13px;">{{item.firstName}} {{item.lastName}}
											<md-tooltip md-direction="right">User Name</md-tooltip>
										</span>
-->
									</div>
									<div flex>
<!--
										<span style="color:#808080;font-size:13px;">{{item.role[0].roleName}}
											<md-tooltip md-direction="right">Role Name</md-tooltip>
										</span>
-->
									</div>
                                    <div flex>
										<span style="color:#808080;font-size:13px;">Pending Invitation
											<md-tooltip md-direction="right">status</md-tooltip>
										</span>
									</div>
									<div flex>
<!--
										<md-menu md-position-mode="target-right target" layout="row" layout-align="end end" flex-sm="100" style="margin:-11px 0px -32px;">
											<md-button href aria-label="Open demo menu" class="md-icon-button" ng-click="$mdOpenMenu()">
												<md-icon md-font-icon="icon-dots-vertical"></md-icon>
											</md-button>
											<md-menu-content width="4">
												<md-menu-item>
													<md-button ng-click="vm.inviteUsersEdit(item , $event)">
														<p>Edit</p>
														<md-icon md-menu-align-target></md-icon>
													</md-button>
												</md-menu-item>
												<md-menu-item>
													<md-button ng-click="vm.deleteUserRow(item , $index)">
														<p>Delete</p>
														<md-icon md-menu-align-target ></md-icon>
													</md-button>
												</md-menu-item>
											</md-menu-content>
										</md-menu>
-->
									</div>
								</div>
							</md-card-content>
						</md-card>
					</div> 
                    
					<div ng-repeat="item in vm.getPendingUser" as-sortable-item flex> 
						<md-card class="add-mdcard" style="background-color:#f9f9cd;" as-sortable-item-handle flex>
							<md-card-content style="margin: -13px;">
								<div layout="row">
									<div flex>
										<span style="color:#808080;font-size:13px;margin-left:10px;">{{item.Email}}
											<md-tooltip md-direction="right">User Email</md-tooltip>
										</span>
									</div>
									<div flex>
										<span style="color:#808080;font-size:13px;">{{item.Name}}
											<md-tooltip md-direction="right">User Name</md-tooltip>
										</span>
									</div>
									<div flex layout="row" layout-align="center start">
										<span style="color:#808080;font-size:13px;">Request
											<md-tooltip md-direction="right">Staus</md-tooltip>
										</span>
									</div>
									<div flex>
										<md-menu md-position-mode="target-right target" layout="row" layout-align="end end" flex-sm="100" style="margin:-11px 0px -32px;">
											<md-button href aria-label="Open demo menu" class="md-icon-button" ng-click="$mdOpenMenu()">
												<md-icon md-font-icon="icon-dots-vertical" ></md-icon>
											</md-button>
											<md-menu-content width="4">
												<md-menu-item>
													<md-button ng-click="vm.acceptUser(item , $event)">
														<p>Accept</p>
														<md-icon md-menu-align-target></md-icon>
													</md-button>
												</md-menu-item>
											</md-menu-content>
										</md-menu>
									</div>
								</div>
							</md-card-content>
						</md-card>
					</div> 
				</div>
			</div>
			<md-list-item>
				<md-button class="md-secondary md-primary" style="left:12px; right:0px;" ng-click="vm.inviteUsers($event)">
                <md-icon md-font-icon="icon-plus-circle-outline"></md-icon>
                User
                </md-button>
				<p></p>
			</md-list-item>
            
			<md-divider></md-divider>

			<div layout layout-align="start center" style="background-color:#f6f6f6; height:45px;width:100%;">
				<div style="margin-left:18px; font-weight: 500;" >
					Roles
				</div>
			</div>
            <div layout="column" layout-align="center center" ng-if="!vm.Settings12thdoor.users.roles">
                <md-progress-circular class="md-accent" md-mode="indeterminate" md-diameter="64"></md-progress-circular>
                <div>Loading Roles...</div>
            </div>
			<div layout-gt-sm="column" style="padding: 0px 0px 10px;">
				<div as-sortable="sortableOptions" ng-model="asdc" flex="100">
					<div ng-repeat="item in vm.Settings12thdoor.users.roles | filter: {type: 'default'}" as-sortable-item flex>
						<md-card class="add-mdcard" as-sortable-item-handle flex>
							<md-card-content style="margin: -13px;">
								<div layout="row">
									<div flex>
										<span style="color:#808080;font-size:13px;margin-left:10px;">{{item.roleName}}
											<md-tooltip md-direction="right">Role Name</md-tooltip>
										</span>
									</div>
									<div flex>
										<md-menu md-position-mode="target-right target" layout="row" layout-align="end end" flex-sm="100" style="margin:-11px 0px -32px;">
											<md-button href aria-label="Open demo menu" class="md-icon-button" ng-click="$mdOpenMenu()">
												<md-icon md-font-icon="icon-dots-vertical"></md-icon>
											</md-button>
											<md-menu-content width="4">
												<md-menu-item>
													<md-button ng-click="vm.rolesEdit(item , $event)">
														<p>Edit</p>
														<md-icon md-menu-align-target ></md-icon>
													</md-button>
												</md-menu-item>
											</md-menu-content>
										</md-menu>
									</div>
								</div>
							</md-card-content>
						</md-card>
					</div>  <!-- EXIT Default role -->

					<div ng-repeat="item in vm.Settings12thdoor.users.roles | filter: {type: 'manual'}" as-sortable-item flex>
						<md-card class="add-mdcard" as-sortable-item-handle flex>
							<md-card-content style="margin: -13px;">
								<div layout="row">
									<div flex>
										<span style="color:#808080;font-size:13px;margin-left:10px;">{{item.roleName}}
											<md-tooltip md-direction="right">Custom Fields name</md-tooltip>
										</span>
									</div>
									<div flex>
										<md-menu md-position-mode="target-right target" layout="row" layout-align="end end" flex-sm="100" style="margin:-11px 0px -32px;">
											<md-button href aria-label="Open demo menu" class="md-icon-button" ng-click="$mdOpenMenu()">
												<md-icon md-font-icon="icon-dots-vertical"></md-icon>
											</md-button>
											<md-menu-content width="4">
												<md-menu-item>
													<md-button ng-click="vm.rolesEdit(item , $event)">
														<p>Edit</p>
														<md-icon md-menu-align-target ></md-icon>
													</md-button>
												</md-menu-item>
												<md-menu-item>
													<md-button ng-click="vm.deleteRole(item, $index)">
														<p>Delete</p>
														<md-icon md-menu-align-target ></md-icon>
													</md-button>
												</md-menu-item>
											</md-menu-content>
										</md-menu>
									</div>
								</div>
							</md-card-content>
						</md-card>
					</div>
				</div>
			</div>
			<md-list-item>
				<md-button class="md-secondary md-primary" style="left:12px; right:0px;" ng-click="vm.roles($event)">
                <md-icon md-font-icon="icon-plus-circle-outline"></md-icon>
                Role
                </md-button>
				<p></p>
			</md-list-item>
		</md-list>
	</md-content>
</div>